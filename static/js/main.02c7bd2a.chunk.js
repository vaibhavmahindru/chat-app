(this.webpackJsonpsuperchat=this.webpackJsonpsuperchat||[]).push([[0],{23:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n.n(r),a=n(14),s=n.n(a),i=n(13),o=n.n(i),u=n(15),d=n(10),j=(n(23),n(9)),p=(n(24),n(29),n(16)),b=n(17),h=n(4);j.a.initializeApp({apiKey:"AIzaSyAlZdrzLWlEQKOjq5trMfqan_7niTWwk10",authDomain:"chat-app-8c5d5.firebaseapp.com",projectId:"chat-app-8c5d5",storageBucket:'"chat-app-8c5d5.appspot.com"',messagingSenderId:"113050167222",appId:"1:113050167222:web:d1811b87584f93d1f4c317",measurementId:"G-1KF8FG72FM"});var l=j.a.auth(),O=j.a.firestore();function m(){return Object(h.jsx)("button",{onClick:function(){var e=new j.a.auth.GoogleAuthProvider;l.signInWithPopup(e)},children:"Sign in with Google"})}function f(){return l.currentUser&&Object(h.jsx)("button",{onClick:function(){return l.signOut()},children:"Sign Out"})}function x(){var e=O.collection("messages"),t=e.orderBy("createdAt").limit(25),n=Object(b.a)(t,{idField:"id"}),c=Object(d.a)(n,1)[0],a=Object(r.useState)(""),s=Object(d.a)(a,2),i=s[0],p=s[1],m=Object(r.useRef)(),f=function(){var t=Object(u.a)(o.a.mark((function t(n){var r,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=l.currentUser,c=r.uid,a=r.photoURL,t.next=4,e.add({text:i,createdAt:j.a.firestore.FieldValue.serverTimestamp(),uid:c,photoURL:a});case 4:p(""),m.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("main",{children:[c&&c.map((function(e){return Object(h.jsx)(v,{message:e},e.id)})),Object(h.jsx)("div",{ref:m})]}),Object(h.jsxs)("form",{onSubmit:f,children:[Object(h.jsx)("input",{value:i,onChange:function(e){return p(e.target.value)},placeholder:"Say something nice!!"}),Object(h.jsx)("button",{type:"submit",children:"send"})]})]})}function v(e){var t=e.message,n=t.text,r=t.uid,c=t.photoURL,a=r===l.currentUser.uid?"sent":"received";return Object(h.jsxs)("div",{className:"message ".concat(a),children:[Object(h.jsx)("img",{src:c,alt:"user's dp"}),Object(h.jsx)("p",{children:n})]})}var g=function(){var e=Object(p.a)(l),t=Object(d.a)(e,1)[0];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"App-header",children:Object(h.jsx)(f,{})}),Object(h.jsx)("section",{children:t?Object(h.jsx)(x,{}):Object(h.jsx)(m,{})})]})};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.02c7bd2a.chunk.js.map